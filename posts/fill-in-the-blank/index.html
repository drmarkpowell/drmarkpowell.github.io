<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fill In The Blank | Mark Powell</title><meta name=keywords content><meta name=description content="Here&rsquo;s another great puzzle to code a solution for.
This week&rsquo;s puzzle from NPR:
This week&rsquo;s challenge comes from listener Peter Gwinn, who writes for &ldquo;Wait Wait &mldr; Don&rsquo;t Tell Me!&rdquo; Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you&rsquo;ll get the name of the main character in one of this director&rsquo;s most popular movies."><meta name=author content><link rel=canonical href=https://www.drmarkpowell.com/posts/fill-in-the-blank/><link crossorigin=anonymous href=/assets/css/stylesheet.fc2656fd60c22d893f42039b52167c0edaa73165c5584c5fe0fdcaa96274e18f.css integrity="sha256-/CZW/WDCLYk/QgObUhZ8DtqnMWXFWExf4P3KqWJ04Y8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.drmarkpowell.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.drmarkpowell.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.drmarkpowell.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.drmarkpowell.com/apple-touch-icon.png><link rel=mask-icon href=https://www.drmarkpowell.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Fill In The Blank"><meta property="og:description" content="Here&rsquo;s another great puzzle to code a solution for.
This week&rsquo;s puzzle from NPR:
This week&rsquo;s challenge comes from listener Peter Gwinn, who writes for &ldquo;Wait Wait &mldr; Don&rsquo;t Tell Me!&rdquo; Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you&rsquo;ll get the name of the main character in one of this director&rsquo;s most popular movies."><meta property="og:type" content="article"><meta property="og:url" content="https://www.drmarkpowell.com/posts/fill-in-the-blank/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-09T17:00:00-07:00"><meta property="article:modified_time" content="2023-07-09T17:00:00-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fill In The Blank"><meta name=twitter:description content="Here&rsquo;s another great puzzle to code a solution for.
This week&rsquo;s puzzle from NPR:
This week&rsquo;s challenge comes from listener Peter Gwinn, who writes for &ldquo;Wait Wait &mldr; Don&rsquo;t Tell Me!&rdquo; Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you&rsquo;ll get the name of the main character in one of this director&rsquo;s most popular movies."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.drmarkpowell.com/posts/"},{"@type":"ListItem","position":2,"name":"Fill In The Blank","item":"https://www.drmarkpowell.com/posts/fill-in-the-blank/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fill In The Blank","name":"Fill In The Blank","description":"Here\u0026rsquo;s another great puzzle to code a solution for.\nThis week\u0026rsquo;s puzzle from NPR:\nThis week\u0026rsquo;s challenge comes from listener Peter Gwinn, who writes for \u0026ldquo;Wait Wait \u0026hellip; Don\u0026rsquo;t Tell Me!\u0026rdquo; Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you\u0026rsquo;ll get the name of the main character in one of this director\u0026rsquo;s most popular movies.","keywords":[],"articleBody":"Here‚Äôs another great puzzle to code a solution for.\nThis week‚Äôs puzzle from NPR:\nThis week‚Äôs challenge comes from listener Peter Gwinn, who writes for ‚ÄúWait Wait ‚Ä¶ Don‚Äôt Tell Me!‚Äù Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you‚Äôll get the name of the main character in one of this director‚Äôs most popular movies. Who is it?\nIt‚Äôs complicated to read, but it‚Äôs easier than it sounds. Just turn the third letter of the first name upside-down and it should spell the name of a character the director is famous for in their films. Sounds good!\nIMDb Does Free Data A convenient list of all actors, directors, etc. can be found here\nTo the Swift! Here‚Äôs my solution:\nfunc findAnswers() { let filePath = Bundle.main.path(forResource:\"name.basics\", ofType: \"tsv\") let contentData = FileManager.default.contents(atPath: filePath!) let content = String(data:contentData!, encoding:String.Encoding.utf8)! let substitutions = [ \"b\": \"q\", \"q\": \"b\", \"p\": \"d\", \"d\": \"p\", \"n\": \"u\", \"u\": \"n\"] for line in content.components(separatedBy: \"\\n\") { let fields = line.components(separatedBy: \"\\t\") if fields.count \u003c 5 { continue } if fields[4].contains(\"director\") { let name = fields[1] let firstName = name.components(separatedBy: \" \").first ?? name if firstName.count \u003c 4 { continue } let thirdIndex = firstName.index(firstName.startIndex, offsetBy: 2) let third = String(firstName[thirdIndex]) if substitutions.keys.contains(where: {$0 == third}) { let fourthIndex = firstName.index(firstName.startIndex, offsetBy: 3) let one = String(firstName[firstName.startIndex..","wordCount":"548","inLanguage":"en","datePublished":"2023-07-09T17:00:00-07:00","dateModified":"2023-07-09T17:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.drmarkpowell.com/posts/fill-in-the-blank/"},"publisher":{"@type":"Organization","name":"Mark Powell","logo":{"@type":"ImageObject","url":"https://www.drmarkpowell.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.drmarkpowell.com/ accesskey=h title="Mark Powell (Alt + H)">Mark Powell</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.drmarkpowell.com/apps/apps/ title=Apps><span>Apps</span></a></li><li><a href=https://www.drmarkpowell.com/posts/ title=Blog><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Fill In The Blank</h1><div class=post-meta><span title='2023-07-09 17:00:00 -0700 -0700'>July 9, 2023</span></div></header><div class=post-content><p>Here&rsquo;s another great puzzle to code a solution for.</p><p><a href=https://www.npr.org/2023/07/09/1186650754/sunday-puzzle-fill-in-the-blank>This week&rsquo;s puzzle from NPR</a>:</p><blockquote><p>This week&rsquo;s challenge comes from listener Peter Gwinn, who writes for &ldquo;Wait Wait &mldr; Don&rsquo;t Tell Me!&rdquo; Take the first name of a famous movie director. Write it in upper- and lowercase letters. Rotate the third letter of this name 180¬∞ and you&rsquo;ll get the name of the main character in one of this director&rsquo;s most popular movies. Who is it?</p></blockquote><p>It&rsquo;s complicated to read, but it&rsquo;s easier than it sounds. Just turn the third letter of the first name upside-down and it should spell the name of a character the director is famous for in their films. Sounds good!</p><h3 id=imdb-does-free-data>IMDb Does Free Data<a hidden class=anchor aria-hidden=true href=#imdb-does-free-data>#</a></h3><p>A convenient list of all actors, directors, etc. can be found <a href=https://datasets.imdbws.com/name.basics.tsv.gz>here</a></p><h3 id=to-the-swift>To the Swift!<a hidden class=anchor aria-hidden=true href=#to-the-swift>#</a></h3><p>Here&rsquo;s my solution:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findAnswers</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> filePath = Bundle.main.path(forResource:<span style=color:#e6db74>&#34;name.basics&#34;</span>, ofType: <span style=color:#e6db74>&#34;tsv&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> contentData = FileManager.<span style=color:#66d9ef>default</span>.contents(atPath: filePath!)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> content = String(data:contentData!, encoding:String.Encoding.utf8)<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> substitutions = [ <span style=color:#e6db74>&#34;b&#34;</span>: <span style=color:#e6db74>&#34;q&#34;</span>, <span style=color:#e6db74>&#34;q&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#e6db74>&#34;p&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>, <span style=color:#e6db74>&#34;d&#34;</span>: <span style=color:#e6db74>&#34;p&#34;</span>, <span style=color:#e6db74>&#34;n&#34;</span>: <span style=color:#e6db74>&#34;u&#34;</span>, <span style=color:#e6db74>&#34;u&#34;</span>: <span style=color:#e6db74>&#34;n&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> line <span style=color:#66d9ef>in</span> content.components(separatedBy: <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> fields = line.components(separatedBy: <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> fields.count <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> fields[<span style=color:#ae81ff>4</span>].contains(<span style=color:#e6db74>&#34;director&#34;</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> name = fields[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> firstName = name.components(separatedBy: <span style=color:#e6db74>&#34; &#34;</span>).first ?? name
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> firstName.count <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> thirdIndex = firstName.index(firstName.startIndex, offsetBy: <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> third = String(firstName[thirdIndex])
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> substitutions.keys.contains(<span style=color:#66d9ef>where</span>: {$0 == third}) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> fourthIndex = firstName.index(firstName.startIndex, offsetBy: <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> one = String(firstName[firstName.startIndex..&lt;thirdIndex])
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> two = substitutions[third]<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> three = String(firstName[fourthIndex..&lt;firstName.endIndex])
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> possibleAnswer = one <span style=color:#f92672>+</span> two <span style=color:#f92672>+</span> three
</span></span><span style=display:flex><span>                    print(<span style=color:#e6db74>&#34;Character: </span><span style=color:#e6db74>\(</span>possibleAnswer<span style=color:#e6db74>)</span><span style=color:#e6db74>, Director Name: </span><span style=color:#e6db74>\(</span>name<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>After dropping the tsv file into the project, I proceeded to load it in and parse it in a straightforward way first by lines and then separating out the tab-delimited fields. The person&rsquo;s name is the index 1 field and their best-known role list is in index 4. If they have a role that includes &ldquo;director&rdquo;, we consider them.</p><p>There are only a subset of possible lowercase characters that legitimately look right when flipped upside-down. The possible substitutions I decided to look for included:</p><ul><li>u &lt;-> n</li><li>d &lt;-> p</li><li>b &lt;-> q (Ok, I was feeling generous üòâ)</li></ul><h3 id=swift-strings-could-be-more-fun>Swift Strings Could Be More Fun<a hidden class=anchor aria-hidden=true href=#swift-strings-could-be-more-fun>#</a></h3><p>Swift doesn&rsquo;t exactly make it easy to take pieces of strings out and reassemble them! Composing the required range indices into the string is a bit verbose. It was necessary to get 2 indices for me to code this: the first one to index on the third character, and the second one to index from the fourth character to end of the string to get the last portion of the name. Swift doesn&rsquo;t have a <strong>>..</strong> operator, or we could have expressed it as <code>[third>..firstName.endIndex]</code>. But, all we have to work with is <code>...</code> and <code>&lt;..</code> operators, so another index is needed to get that last substring of the name.</p><p>With all the new possibilities that Swift 5.9 Macros allow for, I&rsquo;m sure we won&rsquo;t have to wait too long for developers to make a nice package of String functionality enhancements that would make this sort of thing more concise and intuitive. It will be interesting to see what packages become part of the new mainstream in the near future&mldr;or even become subsumed into the Swift language for future official releases!</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://www.drmarkpowell.com/posts/countries-and-nationalities/><span class=title>Next ¬ª</span><br><span>Countries and Nationalities</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.drmarkpowell.com/>Mark Powell</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>